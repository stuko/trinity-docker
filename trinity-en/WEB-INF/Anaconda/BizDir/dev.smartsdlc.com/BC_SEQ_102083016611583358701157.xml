<?xml version="1.0" encoding="utf-8"?><xml PATH="/home/java/trinity/trinity-en/WEB-INF/Anaconda/BizDir/dev.smartsdlc.com/BC_SEQ_102083016611583358701157.xml" USER="null" id="BC_SEQ_102083016611583358701157"><BC_SEQ_102083016611583358701157 AnacondaRule="null" BIZ_COLLECTION_CACHE_TIME="0" BIZ_COLLECTION_COUNT="1" BIZ_COLLECTION_KOR_NAME="챗봇 API 인증 관리 -&gt;  최초 인증-토큰 생성" COLLECTION_INTERCEPTER="" KIND="COLLECTION" aop_intercepter="" aop_point_class="&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;" business_rule="null" id="BC_SEQ_102083016611583358701157" referenceKey="null"><checkAuth DATASOURCE="java:comp/env/jdbc/SPDB" DESC="clientId, secretKey 확인" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="SELECT Jndi , callback&lt;BR&gt;FROM    sp.ChatBotToken&lt;BR&gt;WHERE Token = ?&lt;BR&gt;AND       SecretKey = ?" TYPE="SQL" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_class="import com.stuko.anaconda.business.*;&lt;BR&gt;&lt;BR&gt;BusinessCollection bc = (BusinessCollection)result.getReturnObject(&quot;checkAuth&quot;);&lt;BR&gt;if(bc != null &amp;&amp; bc.size() &gt; 0){&lt;BR&gt;   String jndi = bc.getBusinessData(0).getFieldValue(&quot;Jndi&quot;);&lt;BR&gt;   String url = bc.getBusinessData(0).getFieldValue(&quot;callback&quot;);&lt;BR&gt;   if(jndi == null || &quot;&quot;.equals(jndi)) This.doProcessExit(true);&lt;BR&gt;   else{&lt;BR&gt;      request.setFieldValue(&quot;session.jndi&quot;,jndi);&lt;BR&gt;      request.setFieldValue(&quot;url&quot;,url);&lt;BR&gt;   }&lt;BR&gt;}else{&lt;BR&gt;   This.doProcessExit(true);&lt;BR&gt;}">
<FIELD KIND="ITEM" LENGTH="0" NAME="clientId" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="secretKey" SEQ="2" TYPE="STRING" VALUE=""/>
</checkAuth><createAuthKey DATASOURCE="session.jndi" DESC="임시 인증키 발급" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="INSERT INTO TMP_AUTH_KEY(AUTH_KEY, CHANNELID) VALUES(?,?)" TYPE="SQL" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_class="String k = request.getFieldValue(&quot;AUTH_KEY&quot;);&lt;BR&gt;String u = request.getFieldValue(&quot;url&quot;);&lt;BR&gt;if(u.indexOf(&quot;?&quot;) &gt; 0) u = u + &quot;&amp;AUTH_KEY=&quot; + k;&lt;BR&gt;else  u = u + &quot;?AUTH_KEY=&quot; + k;&lt;BR&gt;request.setFieldValue(&quot;url&quot;,u);">
<FIELD KIND="ITEM" LENGTH="0" NAME="AUTH_KEY" SEQ="1" TYPE="KEY" VALUE="TMP"><![CDATA[TMP]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="channelId" SEQ="2" TYPE="STRING" VALUE=""/>
</createAuthKey><callCallBackURL DESC="토큰생성인증요청" KIND="DATA" OWNER="sa" POJO_CLASS="com.stuko.trinity.mediator.impl.RESTCallerImpl" REMOTE="false" SERVICE_NAME="invoke" TYPE="POJO">
<FIELD KIND="ITEM" LENGTH="0" NAME="url" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="method" SEQ="2" TYPE="STRING" VALUE="GET"><![CDATA[GET]]></FIELD>
</callCallBackURL></BC_SEQ_102083016611583358701157></xml>