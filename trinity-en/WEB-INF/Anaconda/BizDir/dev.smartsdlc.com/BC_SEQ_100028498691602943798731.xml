<?xml version="1.0" encoding="utf-8"?><xml PATH="/home/java/trinity/trinity-en/WEB-INF/Anaconda/BizDir/dev.smartsdlc.com/BC_SEQ_100028498691602943798731.xml" USER="null" id="BC_SEQ_100028498691602943798731"><BC_SEQ_100028498691602943798731 AnacondaRule="null" BIZ_COLLECTION_CACHE_TIME="0" BIZ_COLLECTION_COUNT="1" BIZ_COLLECTION_KOR_NAME="탈퇴하기" COLLECTION_INTERCEPTER="" KIND="COLLECTION" aop_intercepter="" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" business_rule="null" id="BC_SEQ_100028498691602943798731" referenceKey="null"><getDBInfo DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="Select db &lt;BR&gt;From ChatBotDB&lt;BR&gt;Where token IN (Select Token From ChatBotToken Where Account = ? )&lt;BR&gt;Limit 0,1" TYPE="SQL" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_class="import com.stuko.anaconda.business.*;&lt;BR&gt;Object object = result.getReturnObject(&quot;getDBInfo&quot;);&lt;BR&gt;if(object != null){&lt;BR&gt;  BusinessCollection bc = (BusinessCollection)object;&lt;BR&gt;  if(bc.size() &gt; 0){&lt;BR&gt;    request.setFieldValue(&quot;db&quot;,bc.getBusinessData(0).getFieldValue(&quot;db&quot;));&lt;BR&gt;  }&lt;BR&gt;}else{&lt;BR&gt;  result.setSkipCount(-1);&lt;BR&gt;}">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
</getDBInfo><deleteMemberRelated DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="Delete From ChatBotTokenStatus Where Token In (Select Token From ChatBotToken Where Account = ?);&lt;BR&gt;Delete From AccountAccept Where Account = ?; &lt;BR&gt;Delete From ChatBotDB Where token IN (Select Token From ChatBotToken Where Account = ? );&lt;BR&gt;Delete From ChatBot Where token IN (Select Token From ChatBotToken Where Account = ? )&lt;BR&gt;&lt;BR&gt;" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
</deleteMemberRelated><deleteMember DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="Delete From ChatBotToken Where Account = ?;&lt;BR&gt;Delete From Member Where Account = ?&lt;BR&gt;" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
</deleteMember><deleteDataBase KIND="DATA" OWNER="sa" POJO_CLASS="com.stuko.anaconda.SQLCommand.SimpleDataBaseUtil" REMOTE="false" SERVICE_NAME="executeUpdate" TYPE="POJO" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_method="if(request.getFieldValue(&quot;db&quot;) == null || &quot;&quot;.equals(request.getFieldValue(&quot;db&quot;))){&lt;BR&gt;  This.doProcessSkip(true);&lt;BR&gt;}&lt;BR&gt;request.setFieldValue(&quot;sql&quot;,&quot;drop database &quot; + request.getFieldValue(&quot;db&quot;)) ;">
<FIELD KIND="ITEM" LENGTH="0" NAME="processName" SEQ="1" TYPE="STRING" VALUE="deleteDatabase"><![CDATA[deleteDatabase]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="jndi" SEQ="2" TYPE="STRING" VALUE="java:comp/env/jdbc/admin"><![CDATA[java:comp/env/jdbc/admin]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="sql" SEQ="3" TYPE="STRING" VALUE=""/>
</deleteDataBase><deletePushInfo DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="Delete From sp_push_schedule_info Where push_client= ? And push_secret= ?" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.clientId" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="session.secretKey" SEQ="2" TYPE="STRING" VALUE=""/>
</deletePushInfo></BC_SEQ_100028498691602943798731></xml>