<?xml version="1.0" encoding="utf-8"?><xml PATH="/home/java/trinity/trinity-en/WEB-INF/Anaconda/BizDir/sp.bestmember.net/BC_SEQ_103071756181498970477519.xml" USER="null" id="BC_SEQ_103071756181498970477519"><BC_SEQ_103071756181498970477519 AnacondaRule="null" BIZ_COLLECTION_CACHE_TIME="0" BIZ_COLLECTION_COUNT="1" BIZ_COLLECTION_KOR_NAME="SSO연결" COLLECTION_INTERCEPTER="" KIND="COLLECTION" aop_intercepter="" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" business_rule="null" id="BC_SEQ_103071756181498970477519" referenceKey="null"><checkToken DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="SELECT token , url , b.* &lt;BR&gt;FROM   Token a, Member b&lt;BR&gt;WHERE  id = ?&lt;BR&gt;AND    NOW() &lt; DATE_ADD(expire ,INTERVAL 1 Minute)&lt;BR&gt;AND    used = 'N'&lt;BR&gt;AND    status = '1'&lt;BR&gt;AND    token is not null&lt;BR&gt;AND   a.account = b.Account&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" TYPE="SQL" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;import com.stuko.anaconda.business.*;&lt;BR&gt;&lt;BR&gt;BusinessCollection bc = (BusinessCollection)result.getReturnObject(&quot;checkToken&quot;);&lt;BR&gt;if(bc.size() &gt; 0){&lt;BR&gt;   String url = bc.getBusinessData(0).getFieldValue(&quot;url&quot;);&lt;BR&gt;   result.setNextPage(url);&lt;BR&gt;}&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;">
<FIELD KIND="ITEM" LENGTH="0" NAME="id" SEQ="1" TYPE="STRING" VALUE=""/>
</checkToken><useToken DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="UPDATE Token&lt;BR&gt;Set    used = 'Y'&lt;BR&gt;Where  id = ?" TYPE="SQL" aop_point_class="&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;">
<FIELD KIND="ITEM" LENGTH="0" NAME="id" SEQ="1" TYPE="STRING" VALUE=""/>
</useToken></BC_SEQ_103071756181498970477519></xml>