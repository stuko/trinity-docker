<?xml version="1.0" encoding="utf-8"?><xml PATH="/home/java/trinity/trinity-en/WEB-INF/Anaconda/BizDir/sp.bestmember.net/BC_SEQ_108899353381516411727959.xml" USER="null" id="BC_SEQ_108899353381516411727959"><BC_SEQ_108899353381516411727959 AnacondaRule="null" BIZ_COLLECTION_CACHE_TIME="0" BIZ_COLLECTION_COUNT="1" BIZ_COLLECTION_KOR_NAME="트리니티 DB 생성 요청" COLLECTION_INTERCEPTER="" KIND="COLLECTION" aop_intercepter="" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" business_rule="null" id="BC_SEQ_108899353381516411727959" referenceKey="null"><checkSaaSDB DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="Select *&lt;BR&gt;From  SaaSDB&lt;BR&gt;Where Account = ?" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
</checkSaaSDB><createTrinityDB KIND="DATA" OWNER="sa" POJO_CLASS="com.stuko.saas.trinity.SaaSSQLProcessImpl" REMOTE="false" SERVICE_NAME="createDataBaseInTrinity" TYPE="POJO" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_method="import com.stuko.anaconda.business.*;&lt;BR&gt;import com.stuko.saas.trinity.*;&lt;BR&gt;if(((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).size() == 0) This.doProcessSkip(true);&lt;BR&gt;else{&lt;BR&gt;   BusinessData bd = ((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).getBusinessData(0);&lt;BR&gt;   sql = &quot;create database IF NOT EXISTS &quot; + bd.getFieldValue(&quot;DBName&quot;);&lt;BR&gt;   request.setFieldValue(&quot;sql&quot;,sql);&lt;BR&gt;}">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="url" SEQ="2" TYPE="STRING" VALUE="jdbc:mysql://db.bestmember.net:3306/test?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=euckr"><![CDATA[jdbc:mysql://db.bestmember.net:3306/test?autoReconnect=true&useUnicode=true&characterEncoding=euckr]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="id" SEQ="3" TYPE="STRING" VALUE="admin"><![CDATA[admin]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="password" SEQ="4" TYPE="STRING" VALUE="gud!85028"><![CDATA[gud!85028]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="driver" SEQ="5" TYPE="STRING" VALUE="org.mariadb.jdbc.Driver"><![CDATA[org.mariadb.jdbc.Driver]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="max" SEQ="6" TYPE="INT" VALUE="5"><![CDATA[5]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="valid_sql" SEQ="7" TYPE="STRING" VALUE="select 1"><![CDATA[select 1]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="sql" SEQ="8" TYPE="STRING" VALUE=""/>
</createTrinityDB><BP_SEQ_109972901851516412935964 KIND="DATA" OWNER="sa" POJO_CLASS="com.stuko.saas.trinity.SaaSSQLProcessImpl" REMOTE="false" SERVICE_KOR_NAME="copy of null" SERVICE_NAME="createDataBaseInTrinity" TYPE="POJO" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_method="import com.stuko.anaconda.business.*;&lt;BR&gt;import com.stuko.saas.trinity.*;&lt;BR&gt;if(((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).size() == 0) This.doProcessSkip(true);&lt;BR&gt;else{&lt;BR&gt;  BusinessData bd = ((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).getBusinessData(0);&lt;BR&gt;   sql = &quot;create user  '&quot; +bd.getFieldValue(&quot;UserId&quot;)+ &quot;'@'%' identified by '&quot;+request.getFieldValue(&quot;session.Account&quot;)+&quot;'&quot;;&lt;BR&gt;   request.setFieldValue(&quot;sql&quot;,sql);&lt;BR&gt; &lt;BR&gt;}">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="url" SEQ="2" TYPE="STRING" VALUE="jdbc:mysql://db.bestmember.net:3306/test?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=euckr"><![CDATA[jdbc:mysql://db.bestmember.net:3306/test?autoReconnect=true&useUnicode=true&characterEncoding=euckr]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="id" SEQ="3" TYPE="STRING" VALUE="admin"><![CDATA[admin]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="password" SEQ="4" TYPE="STRING" VALUE="gud!85028"><![CDATA[gud!85028]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="driver" SEQ="5" TYPE="STRING" VALUE="org.mariadb.jdbc.Driver"><![CDATA[org.mariadb.jdbc.Driver]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="max" SEQ="6" TYPE="INT" VALUE="5"><![CDATA[5]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="valid_sql" SEQ="7" TYPE="STRING" VALUE="select 1"><![CDATA[select 1]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="sql" SEQ="8" TYPE="STRING" VALUE=""/>
</BP_SEQ_109972901851516412935964><BP_SEQ_109598766731516413112351 KIND="DATA" OWNER="sa" POJO_CLASS="com.stuko.saas.trinity.SaaSSQLProcessImpl" REMOTE="false" SERVICE_KOR_NAME="copy of copy of null" SERVICE_NAME="createDataBaseInTrinity" TYPE="POJO" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_method="import com.stuko.anaconda.business.*;&lt;BR&gt;import com.stuko.saas.trinity.*;&lt;BR&gt;if(((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).size() == 0) This.doProcessSkip(true);&lt;BR&gt;else{&lt;BR&gt;   BusinessData bd = ((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).getBusinessData(0);&lt;BR&gt;   sql = &quot;grant all privileges on &quot;+bd.getFieldValue(&quot;DBName&quot;)+&quot;.* to '&quot;+bd.getFieldValue(&quot;UserId&quot;)+&quot;'@'222.239.250.13' identified by '&quot;+bd.getFieldValue(&quot;Account&quot;).trim() +&quot;' with grant option&quot;;&lt;BR&gt;   request.setFieldValue(&quot;sql&quot;,sql);&lt;BR&gt;}">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="url" SEQ="2" TYPE="STRING" VALUE="jdbc:mysql://db.bestmember.net:3306/test?autoReconnect=true&amp;useUnicode=true&amp;characterEncoding=euckr"><![CDATA[jdbc:mysql://db.bestmember.net:3306/test?autoReconnect=true&useUnicode=true&characterEncoding=euckr]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="id" SEQ="3" TYPE="STRING" VALUE="admin"><![CDATA[admin]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="password" SEQ="4" TYPE="STRING" VALUE="gud!85028"><![CDATA[gud!85028]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="driver" SEQ="5" TYPE="STRING" VALUE="org.mariadb.jdbc.Driver"><![CDATA[org.mariadb.jdbc.Driver]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="max" SEQ="6" TYPE="INT" VALUE="5"><![CDATA[5]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="valid_sql" SEQ="7" TYPE="STRING" VALUE="select 1"><![CDATA[select 1]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="sql" SEQ="8" TYPE="STRING" VALUE=""/>
</BP_SEQ_109598766731516413112351><updateTrinityDBStatus DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="Update SaaSDB&lt;BR&gt;Set TrinityDBYN = 'Y'&lt;BR&gt;Where Account = ?" TYPE="SQL" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_method="import com.stuko.anaconda.business.*;&lt;BR&gt;import com.stuko.saas.trinity.*;&lt;BR&gt;if(((BusinessCollection)result.getReturnObject(&quot;checkSaaSDB&quot;)).size() == 0) This.doProcessSkip(true);">
<FIELD KIND="ITEM" LENGTH="0" NAME="session.Account" SEQ="1" TYPE="STRING" VALUE=""/>
</updateTrinityDBStatus></BC_SEQ_108899353381516411727959></xml>