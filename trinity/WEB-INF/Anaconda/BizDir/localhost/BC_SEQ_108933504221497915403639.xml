<?xml version="1.0" encoding="utf-8"?><xml PATH="/usr/local/tomcat/webapps/trinity/WEB-INF/Anaconda/BizDir/localhost/BC_SEQ_108933504221497915403639.xml" USER="null" id="BC_SEQ_108933504221497915403639"><BC_SEQ_108933504221497915403639 AnacondaRule="null" BIZ_COLLECTION_CACHE_TIME="0" BIZ_COLLECTION_COUNT="1" BIZ_COLLECTION_KOR_NAME="비밀번호 찾기" COLLECTION_INTERCEPTER="" KIND="COLLECTION" aop_intercepter="" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;null&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;null&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" business_rule="null" id="BC_SEQ_108933504221497915403639" referenceKey="null"><findPassword DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="SELECT Email&lt;BR&gt;FROM Member&lt;BR&gt;WHERE Email = ?&lt;BR&gt;" TYPE="SQL" aop_point_class="&lt;BR&gt;&lt;BR&gt;null&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;null&lt;BR&gt;&lt;BR&gt;">
<FIELD KIND="ITEM" LENGTH="0" NAME="email" SEQ="1" TYPE="STRING" VALUE=""/>
</findPassword><makeTemporaryPassword DATASOURCE="java:comp/env/jdbc/SPDB" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="UPDATE Member&lt;BR&gt;SET Password = SHA2(?,256)&lt;BR&gt;WHERE Email = ?&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" TYPE="SQL" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;// concat(LEFT(MD5(RAND()), 10) ,'-', uuid())&lt;BR&gt;// DATE_ADD(now(), INTERVAL 1 hour)&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="import com.stuko.anaconda.business.*;&lt;BR&gt;import com.stuko.anaconda.XmlConfig.*;&lt;BR&gt;&lt;BR&gt;Object findPassword = result.getReturnObject(&quot;findPassword&quot;);&lt;BR&gt;if(findPassword != null){&lt;BR&gt;   BusinessCollection bc = (BusinessCollection) findPassword;&lt;BR&gt;   if(bc.size() == 0){&lt;BR&gt;     This.doProcessSkip(true);    &lt;BR&gt;   }else{&lt;BR&gt;     request.setFieldValue(&quot;find&quot;,&quot;true&quot;);&lt;BR&gt;     request.setFieldValue(&quot;passwd&quot;,AutoSeq.genKey(&quot;PW&quot;));&lt;BR&gt;   }&lt;BR&gt;}else{&lt;BR&gt;  This.doProcessSkip(true);&lt;BR&gt;}&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;">
<FIELD KIND="ITEM" LENGTH="0" NAME="passwd" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="email" SEQ="2" TYPE="STRING" VALUE=""/>
</makeTemporaryPassword><sendEmail KIND="DATA" OWNER="sa" POJO_CLASS="com.stuko.sp.mail.util.MailUtil" REMOTE="false" SERVICE_NAME="sendByGmail" TYPE="POJO" aop_intercepter="com.stuko.anaconda.intercepter.SimpleBusinessIntercepter" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;null&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="import java.lang.*;&lt;BR&gt;import com.stuko.anaconda.business.*;&lt;BR&gt;&lt;BR&gt;Object findPassword = result.getReturnObject(&quot;findPassword&quot;);&lt;BR&gt;if(findPassword != null){&lt;BR&gt;   BusinessCollection bc = (BusinessCollection) findPassword;&lt;BR&gt;   if(bc.size() == 0){&lt;BR&gt;     This.doProcessSkip(true);    &lt;BR&gt;   }else{&lt;BR&gt;    String strContents = &quot;&lt;h4&gt;This is a password reset email from the Social Project.&lt;/h4&gt;&lt;br&gt;&quot;&lt;BR&gt;                   + &quot;Your password has been changed &lt;br&gt;&quot; &lt;BR&gt;                   + request.getFieldValue(&quot;passwd&quot;)&lt;BR&gt;                   + &quot;&quot;;&lt;BR&gt;     request.setFieldValue(&quot;toMail&quot;,request.getFieldValue(&quot;email&quot;));&lt;BR&gt;     request.setFieldValue(&quot;contents&quot;,strContents);&lt;BR&gt;   }&lt;BR&gt;}else{&lt;BR&gt;  This.doProcessSkip(true);&lt;BR&gt;}&lt;BR&gt;&lt;BR&gt;">
<FIELD KIND="ITEM" LENGTH="0" NAME="host" SEQ="1" TYPE="STRING" VALUE="smtp.gmail.com"><![CDATA[smtp.gmail.com]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="port" SEQ="2" TYPE="STRING" VALUE="587"><![CDATA[587]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="email" SEQ="3" TYPE="STRING" VALUE="stuko.ko@gmail.com"><![CDATA[stuko.ko@gmail.com]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="password" SEQ="4" TYPE="STRING" VALUE="pdzv kddo gmjx yhsx"><![CDATA[pdzv kddo gmjx yhsx]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="toMail" SEQ="5" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="fromMail" SEQ="6" TYPE="STRING" VALUE="stuko.ko@gmail.com"><![CDATA[stuko.ko@gmail.com]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="fromName" SEQ="7" TYPE="STRING" VALUE="DUNA"><![CDATA[DUNA]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="subject" SEQ="8" TYPE="STRING" VALUE="[소셜 프로젝트] 비밀번호를 초기화 해주세요"><![CDATA[[소셜 프로젝트] 비밀번호를 초기화 해주세요]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="contents" SEQ="9" TYPE="STRING" VALUE=""/>
</sendEmail></BC_SEQ_108933504221497915403639></xml>