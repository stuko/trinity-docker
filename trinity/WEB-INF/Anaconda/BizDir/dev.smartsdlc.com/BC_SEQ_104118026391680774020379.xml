<?xml version="1.0" encoding="utf-8"?><xml PATH="/usr/local/tomcat/webapps/trinity/WEB-INF/Anaconda/BizDir/dev.smartsdlc.com/BC_SEQ_104118026391680774020379.xml" USER="null" id="BC_SEQ_104118026391680774020379"><BC_SEQ_104118026391680774020379 AnacondaRule="null" BIZ_COLLECTION_CACHE_TIME="0" BIZ_COLLECTION_COUNT="1" BIZ_COLLECTION_KOR_NAME="코인 룰 매도 추천" COLLECTION_INTERCEPTER="" KIND="COLLECTION" aop_intercepter="" aop_point_class="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" aop_point_method="&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;&lt;BR&gt;" business_rule="null" id="BC_SEQ_104118026391680774020379" referenceKey="null"><Recommend DATASOURCE="session.jndi" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="INSERT INTO rule_context(context_name,rule, rule_group, rest_url, rest_header, rest_body, context_desc , delimeter, msg)&lt;BR&gt;select  algorithm,&lt;BR&gt;           concat(  'check_method()' ,&lt;BR&gt;                        ' &amp;&amp;  \n' , &lt;BR&gt;                        ' typeof ticker !== \'undefined\' &amp;&amp; ticker == \'',&lt;BR&gt;                        ticker,&lt;BR&gt;                        '\' &amp;&amp; \n',&lt;BR&gt;                        ' typeof buy_possible !== \'undefined\' &amp;&amp; buy_possible == \'N\' &amp;&amp; \n', &lt;BR&gt;                        group_concat(X.rule separator ' &amp;&amp; \n')  ,  &lt;BR&gt;                        ' \n &amp;&amp; SET(\'band_sell\',\'Y\') &amp;&amp; \n set_strategy(\'',algorithm,'\',\'',algorithm,'\')  &amp;&amp; \n sell_now() '&lt;BR&gt;                       ), &lt;BR&gt;                       ? ,&lt;BR&gt;                        'https://api.telegram.org/bot{=token}/sendMessage' ,&lt;BR&gt;                        '{\'charset\':\'utf-8\'}',&lt;BR&gt;                        concat('{\'chat_id\':\'{=channelId}\', \'text\':\'',algorithm,'\'}'),&lt;BR&gt;                        algorithm,&lt;BR&gt;                        '|',&lt;BR&gt;                        algorithm &lt;BR&gt;from (&lt;BR&gt; select concat(?,'-',?,'-',?) as algorithm, &lt;BR&gt;            A.code as ticker,&lt;BR&gt;            concat('(typeof ' ,&lt;BR&gt;                          A.name ,&lt;BR&gt;                        ' !== \'undefined\' &amp;&amp; ' , &lt;BR&gt;                        'parseFloat(' ,&lt;BR&gt;                                            A.name , &lt;BR&gt;                                          ') &lt;= ' , &lt;BR&gt;                        round((A.value * (1+greatest(B.to_percent,B.from_percent)/100)),6) , &lt;BR&gt;                        ' &amp;&amp; ' , &lt;BR&gt;                        'parseFloat(' , &lt;BR&gt;                                           A.name , &lt;BR&gt;                                          ') &gt;= ' , &lt;BR&gt;                        round((A.value * (1+least(B.to_percent,B.from_percent)/100)),6) , &lt;BR&gt;                        ') ') as rule&lt;BR&gt; from   coin_slope_stats A, coin_slope_stats_meta B&lt;BR&gt; where A.code = B.code&lt;BR&gt; and    B.channelId  = 'all'&lt;BR&gt; and    B.use_yn = 'Y'  &lt;BR&gt;and     B.meta_type = 'R'&lt;BR&gt; and    A.name = B.name&lt;BR&gt; and    A.code = ?&lt;BR&gt; and    A.date = ?&lt;BR&gt; and    A.time = ?&lt;BR&gt;) X" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="group" SEQ="1" TYPE="KEY" VALUE="RCM"><![CDATA[RCM]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="code1" SEQ="2" TYPE="REFERENCE" VALUE="code"><![CDATA[code]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="date1" SEQ="3" TYPE="REFERENCE" VALUE="date"><![CDATA[date]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="time1" SEQ="4" TYPE="REFERENCE" VALUE="time"><![CDATA[time]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="code2" SEQ="5" TYPE="REFERENCE" VALUE="code"><![CDATA[code]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="date2" SEQ="6" TYPE="REFERENCE" VALUE="date"><![CDATA[date]]></FIELD>
<FIELD KIND="ITEM" LENGTH="0" NAME="time2" SEQ="7" TYPE="REFERENCE" VALUE="time"><![CDATA[time]]></FIELD>
</Recommend><update_coin_stats DATASOURCE="session.jndi" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="update coin_slope_stats&lt;BR&gt;set value = 1&lt;BR&gt;where code = ?&lt;BR&gt;and     date = ?&lt;BR&gt;and     time = ?&lt;BR&gt;and     name = 'sell_yn'" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="code" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="date" SEQ="2" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="time" SEQ="3" TYPE="STRING" VALUE=""/>
</update_coin_stats><update_coin_time DATASOURCE="session.jndi" KIND="DATA" OWNER="sa" REMOTE="false" SERVICE_NAME="update coin&lt;BR&gt;set not_buy_time_yn = 'Y'&lt;BR&gt;where code = ?&lt;BR&gt;and     date = ?&lt;BR&gt;and     time = ?" TYPE="SQL">
<FIELD KIND="ITEM" LENGTH="0" NAME="code" SEQ="1" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="date" SEQ="2" TYPE="STRING" VALUE=""/>
<FIELD KIND="ITEM" LENGTH="0" NAME="time" SEQ="3" TYPE="STRING" VALUE=""/>
</update_coin_time></BC_SEQ_104118026391680774020379></xml>